{"ast":null,"code":"import axios from 'axios';\nimport { getCookie } from '../utils/cookie';\n\nfunction getTokenAuth() {\n  if (getCookie('token')) {\n    return JSON.parse(getCookie('token'));\n  }\n\n  return '';\n}\n\nconst createAxiosInterceptor = url => {\n  const axiosCreate = axios.create({\n    baseURL: url,\n    headers: {\n      Accept: 'application/json',\n      'Accept-Language': 'es',\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${getTokenAuth()}`\n    }\n  });\n  axiosCreate.interceptors.response.use(response => {\n    // alert('data');\n    return response.data;\n  }, error => {\n    // if (error.response.status === 401) {\n    //   window.location.replace('/');\n    // }\n    return Promise.reject(error);\n  });\n  return axiosCreate;\n};\n\nconst BaseService = createAxiosInterceptor(\"http://localhost:4000/api/v1/\");\nexport default BaseService;","map":{"version":3,"sources":["C:/Users/rival/Documents/code/Kiptour/Frontend/kiptour/src/services/baseService.js"],"names":["axios","getCookie","getTokenAuth","JSON","parse","createAxiosInterceptor","url","axiosCreate","create","baseURL","headers","Accept","Authorization","interceptors","response","use","data","error","Promise","reject","BaseService"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,QAA0B,iBAA1B;;AAEA,SAASC,YAAT,GAAwB;AACtB,MAAID,SAAS,CAAC,OAAD,CAAb,EAAwB;AACtB,WAAOE,IAAI,CAACC,KAAL,CAAWH,SAAS,CAAC,OAAD,CAApB,CAAP;AACD;;AACD,SAAO,EAAP;AACD;;AAED,MAAMI,sBAAsB,GAAIC,GAAD,IAAS;AACtC,QAAMC,WAAW,GAAGP,KAAK,CAACQ,MAAN,CAAa;AAC/BC,IAAAA,OAAO,EAAEH,GADsB;AAE/BI,IAAAA,OAAO,EAAE;AACPC,MAAAA,MAAM,EAAE,kBADD;AAEP,yBAAmB,IAFZ;AAGP,sBAAgB,kBAHT;AAIPC,MAAAA,aAAa,EAAG,UAASV,YAAY,EAAG;AAJjC;AAFsB,GAAb,CAApB;AASAK,EAAAA,WAAW,CAACM,YAAZ,CAAyBC,QAAzB,CAAkCC,GAAlC,CACGD,QAAD,IAAc;AACZ;AACA,WAAOA,QAAQ,CAACE,IAAhB;AACD,GAJH,EAKGC,KAAD,IAAW;AACT;AACA;AACA;AACA,WAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACD,GAVH;AAaA,SAAOV,WAAP;AACD,CAxBD;;AA0BA,MAAMa,WAAW,GAAGf,sBAAsB,CAAC,+BAAD,CAA1C;AAEA,eAAee,WAAf","sourcesContent":["import axios from 'axios';\r\nimport { getCookie } from '../utils/cookie';\r\n\r\nfunction getTokenAuth() {\r\n  if (getCookie('token')) {\r\n    return JSON.parse(getCookie('token'));\r\n  }\r\n  return '';\r\n}\r\n\r\nconst createAxiosInterceptor = (url) => {\r\n  const axiosCreate = axios.create({\r\n    baseURL: url,\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Accept-Language': 'es',\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${getTokenAuth()}`,\r\n    },\r\n  });\r\n  axiosCreate.interceptors.response.use(\r\n    (response) => {\r\n      // alert('data');\r\n      return response.data;\r\n    },\r\n    (error) => {\r\n      // if (error.response.status === 401) {\r\n      //   window.location.replace('/');\r\n      // }\r\n      return Promise.reject(error);\r\n    }\r\n  );\r\n\r\n  return axiosCreate;\r\n};\r\n\r\nconst BaseService = createAxiosInterceptor(\"http://localhost:4000/api/v1/\");\r\n\r\nexport default BaseService;\r\n"]},"metadata":{},"sourceType":"module"}